<scxml xmlns="http://www.w3.org/2005/07/scxml" version="1.0" initial="Start">
    <datamodel>
          <data id="Grammar" expr="./registrace.grxml"/>
    </datamodel>  
    <state id="Start">
          <onentry>
              <prompt>Vítejte v registraci předmětů</prompt>
          </onentry>
          <transition event="Credits" target="Credits" >
          </transition>
          <transition event="Course,_credits" target="Course,_Credits" >
          </transition>
          <transition event="All" target="All" >
          </transition>
          <transition event="Credits,_finishing" target="Finishing,_credits" >
          </transition>
          <transition event="Course,_finishing" target="Course,_finishing" >
          </transition>
    </state>
    <state id="Course">
          <onentry>
              <prompt>Zadejte název nebo kód předmětu.</prompt>
          </onentry>
          <transition event="Finishing" target="Course,_finishing" >
          </transition>
          <transition event="Credits" target="Course,_credits" >
          </transition>
    </state>
    <state id="Credits">
          <onentry>
              <prompt>Zadejte za kolik kreditů si chcete předmět zapsat</prompt>
          </onentry>
          <transition event="Course" target="Course,_Credits" >
          </transition>
          <transition event="Finishing" target="Finishing,_credits" >
          </transition>
    </state>
    <state id="Finishing">
          <onentry>
              <prompt>Předmět <value expr="Course"/> vám byl zaregistrován</prompt>
          </onentry>
          <transition event="Course" target="Course,_finishing" >
          </transition>
          <transition event="Credits" target="Finishing,_credits" >
          </transition>
    </state>
    <state id="Course,_Credits">
          <onentry>
              <prompt>Zadejte způsob ukončení</prompt>
          </onentry>
          <transition event="Finishing" target="All" >
          </transition>
    </state>
    <state id="All">
          <onentry>
              <prompt>Zadal jste <value expr="Course"/>, ukončený <value expr="Finishing"/> za <value expr="Credits"/> kreditů. Souhlasíte</prompt>
          </onentry>
          <transition event="No" target="Start" >
          </transition>
          <transition event="Yes" target="Submit" >
          </transition>
    </state>
    <state id="Finishing,_credits">
          <transition event="Finishing" target="All" >
          </transition>
    </state>
    <state id="Course,_finishing">
          <transition event="Credits" target="All" >
          </transition>
    </state>
    <final id="Submit">
    </final>
</scxml>